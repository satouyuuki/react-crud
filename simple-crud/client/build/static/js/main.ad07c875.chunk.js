(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),o=a(4),u=a(16),E=a(17),l=a(20),s=a(19),h=a(3),p=a.n(h),d=function(e){return{type:"RECEIVE_DATA_SUCCESS",characterArray:e}},A=function(e){var t=e.store,a=t.getState().form,n=a.name,c=a.age;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),p.a.post("/api/characters",{name:n,age:c}).then((function(e){t.dispatch({type:"INITIALIZE_FORM"});var a=e.data;t.dispatch(d(a))})).catch((function(e){console.error(new Error(e)),t.dispatch({type:"RECEIVE_DATA_FAILED"})}))}(e)}},r.a.createElement("label",null,"\u540d\u524d:",r.a.createElement("input",{value:n,onChange:function(e){return t.dispatch(function(e){return{type:"CHANGE_NAME",name:e}}(e.target.value))}})),r.a.createElement("label",null,"\u5e74\u9f62:",r.a.createElement("input",{value:c,onChange:function(e){return t.dispatch(function(e){return{type:"CHANGE_AGE",age:e}}(e.target.value))}})),r.a.createElement("button",{type:"submit"},"submit")))},f=function(e){var t=e.store,a=t.getState().characters,n=a.isFetching,c=a.characterArray;return r.a.createElement("div",null,n?r.a.createElement("h2",null,"Now Loading..."):r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t.dispatch({type:"REQUEST_DATA"}),void p.a.get("/api/characters").then((function(e){var a=e.data;t.dispatch(d(a))})).catch((function(e){console.error(new Error(e)),t.dispatch({type:"RECEIVE_DATA_FAILED"})}))}},"fetch data"),r.a.createElement("ul",null,c.map((function(e){return r.a.createElement("li",{key:e._id},"".concat(e.name," (").concat(e.age,")"),r.a.createElement("button",{onClick:function(){return a=e._id,t.dispatch({type:"REQUEST_DATA"}),void p.a.put("/api/characters",{id:a}).then((function(e){var a=e.data;t.dispatch(d(a))})).catch((function(e){console.error(new Error(e)),t.dispatch({type:"RECEIVE_DATA_FAILED"})}));var a}},"+1"),r.a.createElement("button",{onClick:function(){return a=e._id,t.dispatch({type:"REQUEST_DATA"}),void p()({method:"delete",url:"/api/characters",data:{id:a}}).then((function(e){var a=e.data;t.dispatch(d(a))})).catch((function(e){console.error(new Error(e)),t.dispatch({type:"RECEIVE_DATA_FAILED"})}));var a}},"delete"))})))))},m=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,{store:this.props.store}),r.a.createElement(f,{store:this.props.store}))}}]),a}(n.Component),b=a(2),v={form:{name:"",age:""},characters:{isFetching:!1,characterArray:[]}},_=Object(o.a)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.form,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NAME":return Object(b.a)(Object(b.a)({},e),{},{name:t.name});case"CHANGE_AGE":return Object(b.a)(Object(b.a)({},e),{},{age:t.age});case"INITIALIZE_FORM":return v.form;default:return e}},characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.characters,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_DATA":return Object(b.a)(Object(b.a)({},e),{},{isFetching:!0});case"RECEIVE_DATA_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{isFetching:!1,characterArray:t.characterArray});case"RECEIVE_DATA_FAILED":return Object(b.a)(Object(b.a)({},e),{},{isFetching:!1});default:return e}}}),g=Object(o.b)(_),y=function(){i.a.render(r.a.createElement(m,{store:g}),document.getElementById("root"))};g.subscribe((function(){y()})),y()}},[[21,1,2]]]);
//# sourceMappingURL=main.ad07c875.chunk.js.map